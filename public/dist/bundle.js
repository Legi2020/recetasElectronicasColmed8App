(()=>{var e=function(e){var t=document.querySelector("#id").value,r=document.querySelector("#password").value;if(""===t||""===r)return e.preventDefault(),void Swal.fire({icon:"warning",title:"Atencion!",text:"Ambos campos son obligatorios"})};document.querySelector("#btnCerrarRespuesta")&&(document.querySelector("#btnCerrarRespuesta").addEventListener("click",(function(){document.querySelector(".respuesta").remove()})),document.querySelector(".sk-circle ")&&document.querySelector(".sk-circle ").classList.add("oculto")),document.querySelector("#btnImprimirRespuesta")&&document.querySelector("#btnImprimirRespuesta").addEventListener("click",(function(){window.print()})),document.querySelector(".dropFileForm")&&document.querySelector(".dropFileForm").addEventListener("submit",(function(){document.querySelector(".sk-circle ").classList.remove("oculto")}));var t=function(e){if(null===document.querySelector('input[type="file"]').files.item(0))return e.preventDefault(),Swal.fire({icon:"warning",title:"Atencion!",text:"Seleccione o arrastre un documento para registrar"}),void document.querySelector(".sk-circle ").classList.add("oculto");document.querySelector("#sendHashButton").setAttribute("disabled",!0),document.querySelector(".respuesta")&&document.querySelector(".respuesta").remove()};document.querySelector("#btnPDF")&&document.querySelector("#btnPDF").addEventListener("click",(function(e){var t=document.querySelector("#hash-documento").textContent,r=document.querySelector("#parrafo-info"),o=document.querySelector("#imagen-qr");if(!r)return Swal.fire({icon:"error",title:"Atencion!",text:"No existe un documento para generar el PDF"});e.target.setAttribute("disabled","true"),document.querySelector("#sk-circle-pdf").classList.remove("oculto"),document.querySelector("#texto-spinner-pdf").classList.remove("oculto"),r.style.setProperty("margin-bottom","0px"),o.style.setProperty("width","80px");var n=document.querySelector("#respuesta-info").cloneNode(!0);r.style.setProperty("margin-bottom","1 rem"),o.style.setProperty("width","100px");var c=document.createElement("div");c.style.setProperty("padding","40px"),c.style.setProperty("font-size","11px"),c.style.setProperty("text-align","justify"),c.style.setProperty("margin-top","812px"),c.appendChild(n),fetch("/generar-pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contenido:c.outerHTML,hashDocOriginal:t+".pdf"})}).then((function(e){return e.json()})).then((function(t){if(e.target.removeAttribute("disabled"),document.querySelector("#sk-circle-pdf").classList.add("oculto"),document.querySelector("#texto-spinner-pdf ").classList.add("oculto"),t.error)return Swal.fire({icon:"error",title:"Atencion!",text:t.error});window.open(t.url,"Download")})).catch((function(e){return console.log(e)}))})),document.addEventListener("DOMContentLoaded",(function(){var r=document.querySelector(".alertas"),o=document.querySelector(".dropFileForm"),n=document.querySelector("#subscribeForm");r&&function(){var e=document.querySelector(".alertas"),t=setInterval((function(){e.children.length>0?e.removeChild(e.children[0]):0===e.children.length&&(clearInterval(t),e.remove())}),5e3)}(),o&&o.addEventListener("submit",t),n&&n.addEventListener("submit",e),document.querySelector(".respuesta")&&document.querySelector("#sendHashButton")&&document.querySelector("#sendHashButton").removeAttribute("disabled")}))})();